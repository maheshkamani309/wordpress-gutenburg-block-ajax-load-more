void 0===window.makAjaxLoadFunction&&(window.makAjaxLoadFunction=function(e){console.log(e)}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".mak-ajax-load-more");0===e.length?console.log("No block for mak ajax load more"):e.forEach((function(e){const t=e.getElementsByClassName("mak-load-more-btn");let n=JSON.parse(e.dataset.json);if(t.length>0)t[0].addEventListener("click",(async function(){fetch(n.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n).toString()}).then((e=>e.json())).then((a=>{e.getElementsByClassName("mak-ajax-load-more-posts-list")[0].insertAdjacentHTML("beforeend",a.data.html),n.currentPage+=1,n.maxNumPages==n.currentPage&&(t[0].style.visibility="hidden")})).catch((e=>console.log(e)))}));else{const t=e.getElementsByClassName("mak-infimate-load-btn")[0];new IntersectionObserver((function(a){a.forEach((a=>{a.isIntersecting&&fetch(n.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n).toString()}).then((e=>e.json())).then((a=>{e.getElementsByClassName("mak-ajax-load-more-posts-list")[0].insertAdjacentHTML("beforeend",a.data.html),n.currentPage+=1,n.maxNumPages==n.currentPage&&(t.style.visibility="hidden")})).catch((e=>console.log(e)))}))})).observe(t)}}))}));